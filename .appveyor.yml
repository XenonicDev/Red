image:
  - Visual Studio 2017
  
configuration:
  - Debug
  - Release

platform:
  - x86
  - x64
 
build:
  project: Red.sln
  parallel: true
  verbosity: normal

build_script:
  - ps: |
      Start-Process -FilePath "./Build.bat" -ArgumentList "$env:configuration","$env:platform","HASNUGET" -NoNewWindow
  - ps: |
      if ($env:platform -eq "x86") {
        $Platform = "Win32"
      } else {
        $Platform = "x64"
      }
      Start-Process -FilePath "Build/Test/$Platform/$Configuration/Test.exe" -NoNewWindow
